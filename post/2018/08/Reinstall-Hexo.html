<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>重新安装Hexo，并部署到云服务器 | 离梦之殇 如梦之境 | To See Outer. To See Inner.</title>

  
  <meta name="author" content="Rainbow Yang">
  

  
  <meta name="description" content="前言
其实是重装了PC和云服务器，清理垃圾（linux用不来，xjb弄了好多莫名奇妙的东西），然后也就把东西重装一遍。
简述
主要就是三步： 1.在本地上装好Hexo 2.本地到云服务器用Git进行传递 3.云服务器用Nginx进行网站的部署">
  

  
  
  <meta name="keywords" content="">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="重新安装Hexo，并部署到云服务器"/>

  <meta property="og:site_name" content="离梦之殇 如梦之境"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="离梦之殇 如梦之境" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">离梦之殇 如梦之境</a>
    </h1>
    <p class="site-description">To See Outer. To See Inner.</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
        <li><a href="/about">About</a></li>
      
        <li><a href="/links">Links</a></li>
      
        <li><a href="/atom.xml">RSS</a></li>
      
        <li><a href="/admin">Admin</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>重新安装Hexo，并部署到云服务器</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/post/2018/08/Reinstall-Hexo.html" rel="bookmark">
        <time class="entry-date published" datetime="2018-08-06T11:22:45.000Z">
          2018-08-06
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css" integrity="sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ" crossorigin="anonymous"><h2 id="&#x524D;&#x8A00;">&#x524D;&#x8A00;</h2>
<p>&#x5176;&#x5B9E;&#x662F;&#x91CD;&#x88C5;&#x4E86;PC&#x548C;&#x4E91;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6E05;&#x7406;&#x5783;&#x573E;&#xFF08;linux&#x7528;&#x4E0D;&#x6765;&#xFF0C;xjb&#x5F04;&#x4E86;&#x597D;&#x591A;&#x83AB;&#x540D;&#x5947;&#x5999;&#x7684;&#x4E1C;&#x897F;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x4E5F;&#x5C31;&#x628A;&#x4E1C;&#x897F;&#x91CD;&#x88C5;&#x4E00;&#x904D;&#x3002;</p>
<h2 id="&#x7B80;&#x8FF0;">&#x7B80;&#x8FF0;</h2>
<p>&#x4E3B;&#x8981;&#x5C31;&#x662F;&#x4E09;&#x6B65;&#xFF1A; 1.&#x5728;&#x672C;&#x5730;&#x4E0A;&#x88C5;&#x597D;Hexo 2.&#x672C;&#x5730;&#x5230;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x7528;Git&#x8FDB;&#x884C;&#x4F20;&#x9012; 3.&#x4E91;&#x670D;&#x52A1;&#x5668;&#x7528;Nginx&#x8FDB;&#x884C;&#x7F51;&#x7AD9;&#x7684;&#x90E8;&#x7F72;</p>
<span id="more"></span>
<h2 id="step1-&#x5728;&#x672C;&#x5730;&#x4E0A;&#x88C5;&#x597D;hexo">Step1 &#x5728;&#x672C;&#x5730;&#x4E0A;&#x88C5;&#x597D;<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/">Hexo</a></h2>
<p>&#xFF08;&#x672C;Step&#x7684;&#x6307;&#x4EE4;&#x90FD;&#x662F;&#x53F3;&#x952E;Git Bash Here&#xFF0C;&#x7136;&#x540E;&#x8FD0;&#x884C;&#xFF09; &#xFF08;&#x590D;&#x5236;&#x5E76;&#x8F93;&#x5165;&#x6307;&#x4EE4;&#x65F6;&#xFF0C;&#x8BF7;&#x5FFD;&#x7565;<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">&#x548C;</mi></mrow><annotation encoding="application/x-tex">&#x548C;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0em;vertical-align:0em;"></span><span class="mord cjk_fallback">&#x548C;</span></span></span></span>&#x4E4B;&#x540E;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;&#xFF0C;&#x56E0;&#x4E3A;Git Bash&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#xFF09;</p>
<h3 id="&#x88C5;&#x597D;git&#x548C;node.js">1. &#x88C5;&#x597D;<a target="_blank" rel="noopener" href="https://git-scm.com/">Git</a>&#x548C;<a target="_blank" rel="noopener" href="https://nodejs.org/en/">Node.js</a>&#x3002;</h3>
<p>&#x61C2;&#x7684;&#x90FD;&#x61C2;</p>
<h3 id="&#x5B89;&#x88C5;hexo&#x7684;&#x5E93;">2. &#x5B89;&#x88C5;Hexo&#x7684;&#x5E93;&#x3002;</h3>
<p><code>$ npm install -g hexo-cli</code></p>
<h3 id="&#x751F;&#x6210;hexo&#x7684;&#x5DE5;&#x4F5C;&#x6587;&#x4EF6;&#x5939;">3. &#x751F;&#x6210;hexo&#x7684;&#x5DE5;&#x4F5C;&#x6587;&#x4EF6;&#x5939;&#x3002;</h3>
<p><code>$ hexo init [&#x6587;&#x4EF6;&#x5939;&#x8DEF;&#x5F84;]</code></p>
<p>&#xFF08;&#x5982;&#x7701;&#x7565;&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x5728;&#x53F3;&#x952E;&#x5F00;&#x542F;Git Bash&#x7684;&#x6587;&#x4EF6;&#x5939;&#x751F;&#x6210;&#xFF09;</p>
<h3 id="&#x8FDB;&#x5165;&#x5DE5;&#x4F5C;&#x6587;&#x4EF6;&#x5939;">4. &#x8FDB;&#x5165;&#x5DE5;&#x4F5C;&#x6587;&#x4EF6;&#x5939;&#x3002;</h3>
<p><code>$ cd [&#x6587;&#x4EF6;&#x5939;&#x8DEF;&#x5F84;]</code></p>
<p>&#xFF08;&#x7B2C;3&#x6B65;&#x5982;&#x679C;&#x7701;&#x7565;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;&#x5F53;&#x524D;&#x5DF2;&#x7ECF;&#x662F;&#x5728;&#x5DE5;&#x4F5C;&#x6587;&#x4EF6;&#x5939;&#x4E86;&#xFF09;</p>
<h3 id="&#x5B89;&#x88C5;git&#x90E8;&#x7F72;&#x5E93;">5. &#x5B89;&#x88C5;git&#x90E8;&#x7F72;&#x5E93;</h3>
<p><code>$ npm install hexo-deployer-git --save</code></p>
<h3 id="&#x4E3A;&#x4E86;&#x7528;&#x5BC6;&#x94A5;&#x767B;&#x9646;&#x8981;&#x751F;&#x6210;&#x516C;&#x94A5;&#x548C;&#x5BC6;&#x94A5;">6. &#x4E3A;&#x4E86;&#x7528;&#x5BC6;&#x94A5;&#x767B;&#x9646;&#xFF0C;&#x8981;&#x751F;&#x6210;&#x516C;&#x94A5;&#x548C;&#x5BC6;&#x94A5;&#x3002;</h3>
<p><code>$ ssh-keygen -t rsa</code></p>
<h3 id="&#x5E38;&#x7528;&#x7684;&#x6307;&#x4EE4;">&#x5E38;&#x7528;&#x7684;<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/commands">&#x6307;&#x4EE4;</a></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x6E32;&#x67D3;:$ hexo g</span><br><span class="line">&#x672C;&#x5730;&#x670D;&#x52A1;&#x5668;:$ hexo s</span><br><span class="line">&#x8FDC;&#x7A0B;&#x90E8;&#x7F72;(git):$ hexo d</span><br></pre></td></tr></table></figure>
<h2 id="step2-&#x7528;git&#x8FDB;&#x884C;&#x90E8;&#x7F72;">Step2 &#x7528;Git&#x8FDB;&#x884C;&#x90E8;&#x7F72;</h2>
<p>&#x9996;&#x5148;&#x8981;&#x767B;&#x5F55;&#x5230;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x7684;root&#x3002;</p>
<h3 id="&#x5B89;&#x88C5;git">1. &#x5B89;&#x88C5;Git</h3>
<p><code>apt-get install git</code></p>
<h3 id="git&#x7528;&#x6237;">2. Git&#x7528;&#x6237;</h3>
<ul>
<li>1.&#x521B;&#x5EFA;git&#x7528;&#x6237; <code>adduser git</code></li>
<li>2.&#x4FEE;&#x6539;git&#x6743;&#x9650;
<ul>
<li><p>&#x4FEE;&#x6539;sudoers&#x7684;&#x6587;&#x4EF6;&#x6743;&#x9650;&#xFF0C;&#x4F7F;&#x5176;&#x53EF;&#x4EE5;&#x4FEE;&#x6539; <code>chmod 740 /etc/sudoers</code></p></li>
<li><p>&#x8FDB;&#x5165;sudoers&#x6587;&#x4EF6; <code>vim /etc/sudoers</code> &#x5148;&#x6309;i&#xFF0C;&#x8FDB;&#x5165;&#x8F93;&#x5165;&#x72B6;&#x6001;&#x3002; &#x6700;&#x540E;&#x52A0;&#x4E0A;&#x4E00;&#x884C;git ALL=(ALL) &#x3002; &#x6309;Esc&#x9000;&#x51FA;&#x8F93;&#x51FA;&#x72B6;&#x6001;&#x3002; &#x518D;&#x8F93;&#x5165;&#x201C;:wq&#x201D; ,&#x9000;&#x51FA;&#x5E76;&#x4FDD;&#x5B58;&#x3002;</p></li>
<li><p>&#x4FEE;&#x6539;sudoers&#x7684;&#x6587;&#x4EF6;&#x6743;&#x9650;&#xFF0C;&#x4F7F;&#x5176;&#x4E0D;&#x53EF;&#x4EE5;&#x4FEE;&#x6539; <code>chmod 440 /etc/sudoers</code></p></li>
</ul></li>
</ul>
<h3 id="&#x516C;&#x94A5;">3. &#x516C;&#x94A5;</h3>
<ul>
<li>1.&#x8FDB;&#x5165;git&#x7528;&#x6237; <code>su git</code></li>
<li>2.&#x8FDB;&#x5165;git&#x6839;&#x76EE;&#x5F55;&#x6587;&#x4EF6;&#x5939; <code>cd ~</code></li>
<li>3.&#x521B;&#x5EFA;&#x516C;&#x94A5;&#x6587;&#x4EF6;&#x5939; <code>mkdir .ssh</code></li>
<li>4.&#x521B;&#x5EFA;&#x516C;&#x94A5;&#x6587;&#x4EF6; <code>vim ./.ssh/authorized_keys</code>
<ul>
<li>&#x5C06;&#x4E4B;&#x524D;&#x5728;&#x672C;&#x5730;&#x7535;&#x8111;&#x751F;&#x6210;&#x7684;&#x516C;&#x94A5;&#x5185;&#x5BB9;&#xFF08;id_rsa.pub&#xFF09;&#x590D;&#x5236;&#x5230;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;</li>
<li>id_rsa.pub &#x4E00;&#x822C;&#x4F1A;&#x5728;C:\[Your Name]\.ssh &#x91CC;&#xFF0C;&#x6216;&#x8005;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x641C;&#x7D22;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;</li>
</ul></li>
</ul>
<h3 id="git&#x4ED3;&#x5E93;">4. git&#x4ED3;&#x5E93;</h3>
<ul>
<li>1.&#x521B;&#x5EFA;hexo.git&#x6587;&#x4EF6;&#x5939; <code>mkdir hexo.git</code></li>
<li>2.&#x8FDB;&#x5165;hexo.git&#x6587;&#x4EF6;&#x5939; <code>cd hexo.git</code></li>
<li>3.&#x5EFA;&#x7ACB;git&#x4ED3;&#x5E93; <code>git init --bare</code></li>
</ul>
<h3 id="hexo&#x9759;&#x6001;&#x7F51;&#x5740;&#x4ED3;&#x5E93;">5. Hexo&#x9759;&#x6001;&#x7F51;&#x5740;&#x4ED3;&#x5E93;</h3>
<ul>
<li><p>1.&#x5207;&#x6362;&#x56DE;root&#x7528;&#x6237;(&#x6307;&#x4EE4;&#x4E2D;&#x7684;root&#x53EF;&#x4EE5;&#x53BB;&#x6389;&#xFF0C;&#x56E0;&#x4E3A;&#x662F;&#x9ED8;&#x8BA4;) <code>su root</code></p></li>
<li><p>2.&#x521B;&#x5EFA;hexo&#x9759;&#x6001;&#x7F51;&#x5740;&#x6587;&#x4EF6;&#x5939; <code>mkdir /var/www/hexo</code></p></li>
<li><p>3.&#x7ED9;&#x4E88;git&#x7528;&#x6237;&#x76F8;&#x5173;&#x6743;&#x9650; <code>chown git:git -R /var/www/hexo</code></p></li>
<li><p>4.&#x5207;&#x6362;&#x56DE;git&#x7528;&#x6237; <code>su git</code></p></li>
<li><p>5.git hooks</p>
<ul>
<li><p>&#x521B;&#x5EFA;hooks&#x6587;&#x4EF6; <code>vim /home/git/hexo.git/hooks/post-receive</code></p></li>
<li><p>&#x6DFB;&#x52A0;&#x5185;&#x5BB9;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">GIT_REPO=/home/git/hexo.git</span><br><span class="line">TMP_GIT_CLONE=/tmp/hexo</span><br><span class="line">PUBLIC_WWW=/var/www/hexo</span><br><span class="line">rm -rf \${TMP_GIT_CLONE}</span><br><span class="line">git clone \$GIT_REPO \$TMP_GIT_CLONE</span><br><span class="line">rm -rf \${PUBLIC_WWW}/*</span><br><span class="line">cp -rf \${TMP_GIT_CLONE}/* \${PUBLIC_WWW}</span><br></pre></td></tr></table></figure></li>
<li><p>&#x4E3A;hooks&#x6587;&#x4EF6;&#x6DFB;&#x52A0;&#x8FD0;&#x884C;&#x6743;&#x9650; <code>chmod +x /home/git/hexo.git/hooks/post-receive</code></p></li>
</ul></li>
</ul>
<h3 id="&#x53E6;&#x5916;">6.&#x53E6;&#x5916;</h3>
<p>&#x90E8;&#x7F72;Hexo&#x9700;&#x8981;&#x5728;&#x672C;&#x5730;&#x7535;&#x8111;&#x8FD0;&#x884C;&#xFF0C;&#x89C1;<a href="#end-of-step1">Step1&#x7ED3;&#x5C3E;</a>&#x3002;</p>
<h2 id="step3-nginx&#x90E8;&#x7F72;&#x9759;&#x6001;&#x7F51;&#x7AD9;">Step3 Nginx&#x90E8;&#x7F72;&#x9759;&#x6001;&#x7F51;&#x7AD9;</h2>
<h3 id="&#x5B89;&#x88C5;nginx">1. &#x5B89;&#x88C5;Nginx</h3>
<p><code>apt-get install nginx</code></p>
<h3 id="&#x7F51;&#x7AD9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;">2. &#x7F51;&#x7AD9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h3>
<p><code>vim /etc/nginx/sites-enabled/default</code></p>
<p>&#x6587;&#x4EF6;&#x4E2D;&#x6709;&#x4E00;&#x4E9B;&#x793A;&#x4F8B;&#xFF0C;&#x8981;&#x5148;&#x7528;#&#x6CE8;&#x91CA;&#x6216;&#x5220;&#x9664;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x6DFB;&#x52A0;&#x5185;&#x5BB9;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">server{</span><br><span class="line">	listen 80;</span><br><span class="line">	listen [::]:80;</span><br><span class="line">	</span><br><span class="line">	server_name yourDomain;</span><br><span class="line">	</span><br><span class="line">	root /var/www/hexo;</span><br><span class="line">	index index.html;</span><br><span class="line">	</span><br><span class="line">	location / {</span><br><span class="line">		try_files \$uri \$uri/ =404;</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="&#x91CD;&#x542F;nginx">3. &#x91CD;&#x542F;Nginx</h3>
<p><code>service nginx restart</code></p>
<h3 id="&#x5B8C;&#x6BD5;">4. &#x5B8C;&#x6BD5;</h3>
<p>&#x53EF;&#x4EE5;&#x7528;&#x57DF;&#x540D;&#x6216;&#x8005;&#x670D;&#x52A1;&#x5668;ip&#x5730;&#x5740;&#x8BBF;&#x95EE;&#x4E86;&#x3002; &#x4F46;&#x662F;&#x5982;&#x679C;&#x88AB;&#x548C;&#x6211;&#x4E00;&#x6837;&#xFF0C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x5907;&#x4EFD;&#x7136;&#x540E;&#x88AB;&#x8FD0;&#x8425;&#x5546;&#x62E6;&#x622A;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4E0B;&#x9762;Step4&#xFF0C;&#x52A0;&#x5BC6;&#x4E4B;&#x540E;&#x5C31;&#x4E0D;&#x4F1A;&#x88AB;&#x62E6;&#x622A;&#x4E86;</p>
<h2 id="&#x9644;&#x52A0;step4.&#x6DFB;&#x52A0;ca&#x8BC1;&#x4E66;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;">(&#x9644;&#x52A0;)Step4.&#x6DFB;&#x52A0;CA&#x8BC1;&#x4E66;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;</h2>
<p>&#x53C2;&#x8003;&#x5E76;&#x4F7F;&#x7528;<a target="_blank" rel="noopener" href="https://github.com/Neilpang/acme.sh/wiki/%E8%AF%B4%E6%98%8E">Neilpang/acme.sh</a>&#xFF0C;&#x4E0B;&#x9762;&#x7B80;&#x6613;&#x4ECB;&#x7ECD;&#x3002;</p>
<h3 id="&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x548C;&#x907F;&#x514D;&#x51FA;&#x95EE;&#x9898;&#x5207;&#x6362;&#x5230;root">0. &#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#xFF0C;&#x548C;&#x907F;&#x514D;&#x51FA;&#x95EE;&#x9898;&#xFF0C;&#x5207;&#x6362;&#x5230;root</h3>
<p><code>su root</code></p>
<h3 id="&#x5B89;&#x88C5;acme.sh">1. &#x5B89;&#x88C5;acme.sh</h3>
<p><code>curl  https://get.acme.sh | sh</code></p>
<h3 id="&#x6DFB;&#x52A0;&#x7B80;&#x5199;&#x94FE;&#x63A5;">2. &#x6DFB;&#x52A0;&#x7B80;&#x5199;&#x94FE;&#x63A5;</h3>
<p><code>alias acme.sh=/root/.acme.sh/acme.sh</code></p>
<h3 id="&#x57DF;&#x540D;&#x548C;&#x670D;&#x52A1;&#x5668;&#x6240;&#x6709;&#x6743;&#x8BC1;&#x660E;">3. &#x57DF;&#x540D;&#x548C;&#x670D;&#x52A1;&#x5668;&#x6240;&#x6709;&#x6743;&#x8BC1;&#x660E;</h3>
<ul>
<li>1.&#x751F;&#x6210;TXT&#x9A8C;&#x8BC1;&#x5B57;&#x6BB5; &#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#x57DF;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#x540E;&#x9762;&#x518D;&#x52A0;&#x4E0A;&quot;-d [your-other-domain]&quot;&#xFF0C;&#x6CE8;&#x610F;&#x7A7A;&#x683C;&#x9694;&#x5F00;&#x3002; <code>acme.sh --issue -d [your-domain] --dns --yes-I-know-dns-manual-mode-enough-go-ahead-please</code></li>
<li>2.&#x6DFB;&#x52A0;TXT&#x8BB0;&#x5F55;&#xFF08;&#x8F93;&#x51FA;&#x5DF2;&#x7ECF;&#x8BB2;&#x7684;&#x5F88;&#x6E05;&#x695A;&#x4E86;&#xFF09; &#x5728;&#x57DF;&#x540D;&#x7684;DNS&#x89E3;&#x6790;&#x7BA1;&#x7406;&#x91CC;&#x7ED9;_acme-challenge.[your-domain]&#x6DFB;&#x52A0;TXT&#x8BB0;&#x5F55;&#x3002; &#x5185;&#x5BB9;&#x6765;&#x81EA;&#x8F93;&#x51FA;&#xFF0C;&#x5B57;&#x6BB5;&#x5DF2;&#x7ECF;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x3002;</li>
<li>3.&#x751F;&#x6210;CA&#x8BC1;&#x4E66; <code>acme.sh --renew -d [your-domain] --yes-I-know-dns-manual-mode-enough-go-ahead-please</code> &#x8BC1;&#x4E66;&#x4F1A;&#x5728;/root/.acme.sh/[your-domain]/[your-domain].cer</li>
</ul>
<h3 id="&#x914D;&#x7F6E;ca&#x8BC1;&#x4E66;&#x5230;nginx&#x4FEE;&#x6539;&#x7F51;&#x7AD9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;">4. &#x914D;&#x7F6E;CA&#x8BC1;&#x4E66;&#x5230;Nginx&#xFF08;&#x4FEE;&#x6539;&#x7F51;&#x7AD9;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF09;</h3>
<ul>
<li>&#x5C06; listen &#x7684;&quot;80&quot;&#x6539;&#x6210;&quot;443 ssl&quot;</li>
<li>&#x7136;&#x540E;&#x5728;&#x4E0B;&#x9762;&#x6DFB;&#x52A0;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssl_certificate	/root/.acme.sh/[your-domain]/[your-domain].cer;</span><br><span class="line">ssl_certificate_key	/root/.acme.sh/[your-domain]/[your-domain].key;</span><br></pre></td></tr></table></figure>
<h3 id="&#x91CD;&#x542F;nginx-1">5. &#x91CD;&#x542F;Nginx</h3>
<p><code>service nginx restart</code></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/知识/">知识</a>, <a href="/categories/知识/CS/">CS</a>, <a href="/categories/知识/CS/Hexo/">Hexo</a>
    </span>
    

    

    </div>

    
  </div>
</article>

  






    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2021 Rainbow Yang
    
  </p>
</footer>
    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-93934873-1', 'auto');
    ga('send', 'pageview');

</script>

    
  </div>
</div>
</body>
</html>